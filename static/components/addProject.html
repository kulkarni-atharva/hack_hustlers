<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">    
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
        <link href="style.css" rel="stylesheet">
        <title> Add Project </title>
    </head>
    <body>
        <div class="d-flex flex-row mb-3 bg-light">
            <div class="p-2 flex-grow-1"><img src="https://upload.wikimedia.org/wikipedia/en/thumb/e/ea/Indian_Institute_of_Technology_Dharwad_Logo.svg/800px-Indian_Institute_of_Technology_Dharwad_Logo.svg.png" height="100px" width="100px"></div>
            <div class="p-2 align-self-center "><h1>SLEEPLESS HACKATHON</h1></div>
        </div>

        <div id="outerdiv-formcontainer">
        <div class="card form-card">
        <div class="card-body">
            <h1 class="form-title">Add Project</h1>
            <form class="floatingform">

                <div class="d-flex flex-column">
                    <div>
                        <label  for="projectname" class="form-label">Enter Project Name:</label><br>
                    </div>
                    <div class="d-flex flex-row">
                        <div class="smaller-box me-5">
                            <input id="projectname" class="form-control" type="text">
                        </div>
                        <div class="smaller-box me-5 ms-5">
                        <select class="form-select">
                            <option selected>Choose the type of project</option>
                            <option>Research Project</option>
                            <option>Freelance Gig</option>
                            <option>Internship</option>
                            <option>Club Project</option>
                        </select>
                        </div>
                    </div>
                </div>
                <br>

                <label for="projectdescription" class="form-label">Enter Project Description: </label><br>
                <textarea id="projectdescription" class="form-control" rows="10" cols="40" placeholder="A breif description of your project."></textarea>
                <br>

                <div class="d-flex flex-column">
                    <div>
                        <label for="reqiurements" class="form-label">Enter Requirements:</label>
                    </div>
                    <div class="input-group">
                        <input class="form-control" id="reqiurementsTextbox" type="text" aria-describedby="basic-addon2">
                        <button id="addreq_btn" class="btn btn-outline-primary textboxbtn" onclick="addRequirement(event)"> Add </button>
                    </div>
                </div>
                <div class="list-container">
                    <ul id="RequirementsList">
                    </ul>
                </div>
                <script>
                    function addRequirement(event){
                        event.preventDefault()
                        const new_req = reqiurementsTextbox.value;
                        reqiurementsTextbox.value = "";

                        var li = document.createElement("li");
                        li.appendChild(document.createTextNode(new_req));
                        RequirementsList.appendChild(li);
                    }

                    var textbox = reqiurementsTextbox;
                    
                    textbox.addEventListener("keyup", function(event){
                        if (event.keycode == 13){
                            addreq_btn.click();
                        }
                    })
                </script>

                <div>
                    <select id="fieldsdropdown" class="form-select" onchange="addToFieldsList()">
                        <option selected>Choose Field of Project</option>
                        <option value="1">Machine Learning</option>
                        <option value="2">Software Development</option>
                        <option value="3">Robotics</option>
                    </select>
                </div>
                <div id="fieldslist-container" class="list-container">
                    <ul id="fieldslist"></ul>
                </div>
                
                <script>
                    function addToFieldsList() {
                        const dropdown = document.getElementById("fieldsdropdown");
                        const selectedOption = dropdown.options[dropdown.selectedIndex].innerHTML;

                        if (selectedOption != "Choose Field of Project"){
                            const itemList = document.getElementById("fieldslist");
                            const listItem = document.createElement("li");
                            listItem.appendChild(document.createTextNode(selectedOption));
                            itemList.appendChild(listItem);
                        }
                    }
                </script>

                <input type="file"  accept="image/*" class="form-control" onchange="previewFile()">
                <img id="previewimage" src="" height="200" alt="Image preview...">
                
                <script>
                    function previewFile() {
                    var preview = document.getElementById('previewimage');
                    var file    = document.querySelector('input[type=file]').files[0];
                    var reader  = new FileReader();

                    reader.onloadend = function () {
                    preview.src = reader.result;
                    }
                
                    if (file) {
                    reader.readAsDataURL(file);
                    } else {
                    preview.src = "";
                    }
                }
                </script>

                <div style="display:flex; justify-content: center;">
                    <input id="submitbtn" class="form-control" type="submit" value="Upload Project">
                </div>

            </form>
        </div>
        </div>
    </div>
    </body>
</html>